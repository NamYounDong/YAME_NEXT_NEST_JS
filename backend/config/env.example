###############################
# 데이터베이스 & 캐시 설정
###############################
# MariaDB 연결 정보
DB_HOST=localhost
DB_PORT=3306
DB_NAME=yame
DB_USERNAME=root
DB_USER=root
DB_PASSWORD=aicc6pgpg
DB_DATABASE=yame

# Redis 연결 정보
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=aicc6pgpg
REDIS_DB=0

###############################
# 서버 & 환경 설정
###############################
# 환경 설정
NODE_ENV=development
PORT=3001

# JWT (기존 시스템과의 호환성을 위해 유지)
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# 세션 설정
SESSION_PREFIX=spring:session:sessions:


###############################
# Vworld 지도 API
###############################
VWORLD_API_KEY=08762F75-229A-30FC-9A8C-01D46234EA0E
VWORLD_API_URL=https://api.vworld.kr



###############################
# POI/병원/약국 기능 설정 & 기본 파라미터
###############################
ENABLE_POI_CACHE=true                        # true 시 병원/약국 메타를 poi_* 테이블로 캐시
POI_MAX_RADIUS_M=3000                        # 최대 반경 검색 기본값(미터)
POI_MAX_RESULTS=20                           # 기본 최대 반환 개수

ETL_CONCURRENCY=4                            # 데이터 파이프라인 동시처리 스레드/쿼터 개수
ETL_PAGE_SIZE=100                            # 페이지당 rows (API 허용 범위 확인)
ETL_RETRY_MAX=3                              # 실패 재시도 횟수
ETL_RETRY_BACKOFF_MS=1500                    # 재시도 간격 백오프 초기값

###############################
# 공공데이터포털(data.go.kr) 공통 설정
###############################
GOKR_DEFAULT_TYPE=json
GOKR_TIMEOUT_MS=15000
GOKR_SERVICE_KEY_URLENC=JWsdQXoVtOo%2BVsYo89ra8Yvw4RthFQCNh9yFU9maiSSy%2Bn5hr6ZPaYLkpZZ1lvTyZUgXFdtcaB0MeXe3DPeyqw%3D%3D

###############################
# HIRA(건보공단) 병원/약국 기본정보 OpenAPI
# - 병원 정보서비스/약국 메타(주소/전화/진료과목)
# - poi_hospitals / poi_pharmacies 테이블 데이터
#
# 약국 정보 조회 예시
# ex ) http://apis.data.go.kr/B551182/pharmacyInfoService/getParmacyBasisList?pageNo=1&numOfRows=10&sidoCd=110000&sgguCd=110019&emdongNm=신내동&yadmNm=온누리&xPos=127.0965441345503&yPos=37.60765568913871&radius=3000&ServiceKey=서비스키(URL Encode)
# 응답 메세지
# resultCode	결과코드	5	1	00	결과코드
# resultMsg	결과메시지	50	1	NORMAL SERVICE.	결과메시지
# numOfRows	한 페이지 결과 수	2	0	10	한 페이지 결과 수
# pageNo	페이지 번호	5	0	1	페이지 번호
# totalCount	총건수	7	0	2	조회데이터의 총건수
# items	리스트 항목		1		리스트항목
# 	item	세부 항목		0..n		세부 항목
# 		ykiho	암호화된 요양기호	300	1	{생략}	암호화된 요양기호
# 		yadmNm	병원명	100	0	온누리건강	병원명
# 		clCd	종별코드	2	0	81	종별코드
# 		clCdNm	종별 코드명	100	0	약국	종별 코드명
# 		sidoCd	시도코드	6	0	110000	시도코드
# 		sidoCdNm	시도명	100	0	서울	시도명
# 		sgguCd	시군구코드	6	0	110019	시군구코드
# 		sgguCdNm	시군구명	100	0	중랑구	시군구명
# 		emdongNm	읍면동명	100	0	신내동	읍면동명
# 		postNo	우편번호	6	0	131867	우편번호
# 		addr	주소	300	0	서울특별시 중랑구 봉화산로 215 (신내동)	주소
# 		telno	전화번호	50	0	02-3422-3097	전화번호
# 		estbDd	개설일자	8	0	20001222	개설일자
# 		xPos	x좌표	18	0	127.0965441345503	x좌표(소수점 13)
# 		yPos	y좌표	18	0	37.60765568913871	y좌표(소수점 13)
# 		distance	거리	10	0	0	단위 : 미터(m)
# 
# 병원 정보 조회 예시
# ex ) https://apis.data.go.kr/B551182/hospInfoServicev2/getHospBasisList?serviceKey=&pageNo=1&numOfRows=10&sidoCd=110000&sgguCd=110019&emdongNm=%EC%8B%A0%EB%82%B4%EB%8F%99&yadmNm=%EC%84%9C%EC%9A%B8%EC%9D%98%EB%A3%8C%EC%9B%90&zipCd=2010&clCd=11&dgsbjtCd=01&xPos=127.09854004628151&yPos=37.6132113197367&radius=3000
# 응답 메세지 예시
# <response>
#     <header>
#     <resultCode>00</resultCode>
#     <resultMsg>NORMAL SERVICE.</resultMsg>
#     </header>
#     <body>
#     <items>
#         <item>
#             <addr>서울특별시 중랑구 신내로 156, (신내동)</addr>
#             <clCd>11</clCd>
#             <clCdNm>종합병원</clCdNm>
#             <cmdcGdrCnt>1</cmdcGdrCnt>
#             <cmdcIntnCnt>0</cmdcIntnCnt>
#             <cmdcResdntCnt>0</cmdcResdntCnt>
#             <cmdcSdrCnt>0</cmdcSdrCnt>
#             <detyGdrCnt>0</detyGdrCnt>
#             <detyIntnCnt>0</detyIntnCnt>
#             <detyResdntCnt>0</detyResdntCnt>
#             <detySdrCnt>4</detySdrCnt>
#             <distance>63.453113646832571631363455704348689906</distance>
#             <drTotCnt>168</drTotCnt>
#             <emdongNm>신내동</emdongNm>
#             <estbDd>20110309</estbDd>
#             <hospUrl>http://www.seoulmc.or.kr</hospUrl>
#             <mdeptGdrCnt>4</mdeptGdrCnt>
#             <mdeptIntnCnt>0</mdeptIntnCnt>
#             <mdeptResdntCnt>9</mdeptResdntCnt>
#             <mdeptSdrCnt>150</mdeptSdrCnt>
#             <pnursCnt>0</pnursCnt>
#             <postNo>02053</postNo>
#             <sgguCd>110019</sgguCd>
#             <sgguCdNm>중랑구</sgguCdNm>
#             <sidoCd>110000</sidoCd>
#             <sidoCdNm>서울</sidoCdNm>
#             <telno>02-2276-7000</telno>
#             <XPos>127.0978309</XPos>
#             <YPos>37.6132762</YPos>
#             <yadmNm>서울특별시서울의료원</yadmNm>
#             <ykiho>JDQ4MTg4MSM1MSMkMSMkMCMkODkkMzgxMzUxIzExIyQyIyQ3IyQwMCQyNjEyMjIjNjEjJDEjJDgjJDgz</ykiho>
#         </item>
#     </items>
#     <numOfRows>10</numOfRows>
#     <pageNo>1</pageNo>
#     <totalCount>1</totalCount>
#     </body>
# </response>
HIRA_API_URL=https://apis.data.go.kr/B551182
HIRA_PHARMACY_PATH=/pharmacyInfoService/getParmacyBasisList
HIRA_HOSP_PATH=/hospInfoServicev2/getHospBasisList
HIRA_API_KEY=${GOKR_SERVICE_KEY_URLENC}

###############################
# E-Gen(중앙응급의료정보센터) 응급실 실시간 OpenAPI
# - 응급실 보유/가용 병상수 실시간 상태
# - poi_hospitals.er_status_json 갱신
###############################
EGEN_API_URL=https://apis.data.go.kr/B552657/ErmctInfoInqireService
EGEN_API_KEY=${GOKR_SERVICE_KEY_URLENC}

# 1) 응급실 실시간 가용병상정보 조회 : 응급실이 보유하고 있는 가용병상 정보현황을 시도/시군구별로 조회.
# STAGE1 : 주소(시도) (필수)
# STAGE2 : 주소(시군구) (필수)
EGEN_ERUSII_PATH=/getEmrrmRltmUsefulSckbdInfoInqire

# 2) 중증질환자 수용가능정보 조회 : 중증 응급 질환자별 수용가능한 정보를 시도/시군구/질환별로 조회.
# STAGE1 : 주소(시도) (필수)
# STAGE2 : 주소(시군구) (필수)
# SM_TYPE : 질환/수술(시술)명 - mkioskty(중증질환)이 Y(가능)인 병원 찾기
EGEN_SDAPII_PATH=/getSrsillDissAceptncPosblInfoInqire

# 3) 응급의료기관 목록정보 조회 응급의료기관 정보를 시도/시군구/진료요일/기관별/진료과목별로 조회.
# Q0 : 주소(시도)
# Q1 : 주소(시군구)
# QT : 진료요일(월~일요일(1~7), 공휴일(8))
# QZ : 기관분류(CODE_MST의'H000' 참조(A~H, J~O, Q))
# QD : 진료과목 (CODE_MST의'D000' 참조(D000~D029))
# QN : 기관명
# ORD : 순서
EGEN_ELII_PATH=/getEgytListInfoInqire

# 4) 응급의료기관 위치정보 조회 : 응급의료기관 위치정보를 경도/위도별 반경내 정보를 조회.
# WGS84_LON : 병원경도 (필수)
# WGS84_LAT : 병원위도 (필수)
EGEN_ELI_PATH=/getEgytLcinfoInqire

# 5) 응급의료기관 기본정보 조회 : 응급의료기관의 상세정보를 조회.
# HPID : 기관ID
EGEN_EBII_PATH=/getEgytBassInfoInqire

# 6) 외상센터 목록정보 조회 : 주소, 진료요일, 진료과목 등을 기준으로 외상센터 정보를 조회하는 외상센터 목록정보 조회
# Q0 : 주소(시도)
# Q1 : 주소(시군구)
# QT : 진료요일(월~일요일(1~7), 공휴일(8))
# QZ : 기관분류(CODE_MST의'H000' 참조(A~H, J~O, Q))
# QD : 진료과목(CODE_MST의'D000' 참조(D000~D029))
# QN : 기관명
# ORD : 순서
EGEN_SLII_PATH=/getStrmListInfoInqire

# 7) 외상센터 위치정보 조회 : 경/위도를 기준으로 외상센터 위치정보를 조회하는 외상센터 위치정보 조회
# WGS84_LON : 병원경도
# WGS84_LAT : 병원위도
EGEN_SLI_PATH=/getStrmLcinfoInqire

# 8) 외상센터 기본정보 조회 : 기관ID, 기관명을 기준으로 진료요일, 응급실 정보등을 조회하는 외상센터 기본정보 조회
# HPID : 기관ID
# QN : 기관명
EGEN_SBII_PATH=/getStrmBassInfoInqire

# 9) 응급실 및 중증질환 메시지 조회 : 기관ID, 기관명 및 주소를 기준으로 기관별 메시지 정보를 조회하는 응급실 및 중증질환 메시지 조회
# HPID : 기관ID
# QN : 기관명
# Q0 : 주소(시도)
# Q1 : 주소(시군구)
EGEN_ESDMI_PATH=/getEmrrmSrsillDissMsgInqire





###############################
# MFDS(식약처) DUR 성분/의약 API
# - 규칙 RAW 데이터 → dim_dur_* / dur_rule_fact 테이블
###############################
DUR_API_URL=https://apis.data.go.kr/1471000
DUR_API_KEY=${GOKR_SERVICE_KEY_URLENC}

# 1. 성분 API
#  1) 병용금기 정보조회 : DUR성분정보의 병용금기 정보를 목록으로 제공
#   typeName : DUR유형
#   ingrCode : DUR성분코드
#   ingrName : DUR성분
DUR_DIIS_UTI_PATH=/DURIrdntInfoService03/getUsjntTabooInfoList02

#  2) 특정연령대금기 정보조회 : DUR성분정보의 특정연령대금기 정보를 목록으로 제공
#   typeName : DUR유형
#   ingrCode : DUR성분코드
#   ingrName : DUR성분
DUR_DIIS_SATI_PATH=/DURIrdntInfoService03/getSpcifyAgrdeTabooInfoList02

#  3) 임부금기 정보조회 : DUR성분정보의 임부금기 정보를 목록으로 제공
#   typeName : DUR유형
#   ingrCode : DUR성분코드
#   ingrName : DUR성분
DUR_DIIS_PTI_PATH=/DURIrdntInfoService03/getPwnmTabooInfoList02

#  4) 용량주의 정보조회 : DUR성분정보의 용량주의 정보를 목록으로 제공
#   typeName : DUR유형
#   ingrCode : DUR성분코드
#   ingrName : DUR성분
DUR_DIIS_CAI_PATH=/DURIrdntInfoService03/getCpctyAtentInfoList02

#  5) 투여기간주의 정보조회 : DUR성분정보의 투여기간주의 정보를 목록으로 제공
#   typeName : DUR유형
#   ingrCode : DUR성분코드
#   ingrName : DUR성분
DUR_DIIS_MPAI_PATH=/DURIrdntInfoService03/getMdctnPdAtentInfoList02

#  6) 노인주의 정보조회 : DUR성분정보의 노인주의 정보를 목록으로 제공
#   typeName : DUR유형
#   ingrCode : DUR성분코드
#   ingrName : DUR성분
DUR_DIIS_OAI_PATH=/DURIrdntInfoService03/getOdsnAtentInfoList02

#  7) 효능군중복 정보조회 : DUR성분정보의 효능군중복 정보를 목록으로 제공
#   typeName : DUR유형
#   ingrCode : DUR성분코드
#   ingrName : DUR성분
DUR_DIIS_EDI_PATH=/DURIrdntInfoService03/getEfcyDplctInfoList02


# 2. 품목 API
#  1) 병용금기 정보조회
#   typeName : DUR유형
#   ingrCode : DUR성분코드
#   itemName : 품목명
#   start_change_date : 변경일자
#   end_change_date : 변경일자
#   itemSeq : 품목기준코드
DUR_DPIS_UTI_PATH=/DURPrdlstInfoService03/getUsjntTabooInfoList03

#  2) 노인주의 정보조회
#   typeName : DUR유형
#   ingrCode : DUR성분코드
#   itemName : 품목명
#   start_change_date : 변경일자
#   end_change_date : 변경일자
#   itemSeq : 품목기준코드
DUR_DPIS_OAI_PATH=/DURPrdlstInfoService03/getOdsnAtentInfoList03

#  3) DUR품목정보 조회
#   ingrCode : DUR성분코드
#   itemName : 품목명
#   start_change_date : 변경일자
#   end_change_date : 변경일자
#   itemSeq : 품목기준코드
DUR_DPIS_DPI_PATH=/DURPrdlstInfoService03/getDurPrdlstInfoList03

#  4) 특정연령대금기 정보조회
#   typeName : DUR유형
#   ingrCode : DUR성분코드
#   itemName : 품목명
#   start_change_date : 변경일자
#   end_change_date : 변경일자
#   itemSeq : 품목기준코드
DUR_DPIS_SATI_PATH=/DURPrdlstInfoService03/getSpcifyAgrdeTabooInfoList03

#  5) 용량주의 정보조회
#   typeName : DUR유형
#   ingrCode : DUR성분코드
#   itemName : 품목명
#   start_change_date : 변경일자
#   end_change_date : 변경일자
#   itemSeq : 품목기준코드
DUR_DPIS_CAI_PATH=/DURPrdlstInfoService03/getCpctyAtentInfoList03

#  6) 투여기간주의 정보조회
#   typeName : DUR유형
#   ingrCode : DUR성분코드
#   itemName : 품목명
#   start_change_date : 변경일자
#   end_change_date : 변경일자
#   itemSeq : 품목기준코드
DUR_DPIS_MPAI_PATH=/DURPrdlstInfoService03/getMdctnPdAtentInfoList03

#  7) 효능군중복 정보조회
#   typeName : DUR유형
#   ingrCode : DUR성분코드
#   itemName : 품목명
#   start_change_date : 변경일자
#   end_change_date : 변경일자
#   itemSeq : 품목기준코드
DUR_DPIS_EDI_PATH=/DURPrdlstInfoService03/getEfcyDplctInfoList03

#  8) 서방정분할주의 정보조회
#   typeName : DUR유형
#   ingrCode : DUR성분코드
#   itemName : 품목명
#   start_change_date : 변경일자
#   end_change_date : 변경일자
#   itemSeq : 품목기준코드
DUR_DPIS_SPAI_PATH=/DURPrdlstInfoService03/getSeobangjeongPartitnAtentInfoList03

#  9) 임부금기 정보조회
#   typeName : DUR유형
#   ingrCode : DUR성분코드
#   itemName : 품목명
#   start_change_date : 변경일자
#   end_change_date : 변경일자
#   itemSeq : 품목기준코드
DUR_DPIS_PTI_PATH=/DURPrdlstInfoService03/getPwnmTabooInfoList03






###############################
# (선택) 지자체/기관 약국 영업시간 등 보강 데이터베이스
###############################
LOCAL_POI_ENRICH_ENABLED=false
LOCAL_POI_ENRICH_BASE_URL=
LOCAL_POI_ENRICH_API_KEY=

###############################
# AI/ML 예측 서비스 설정 (차후 구현 예정)
###############################
ML_SERVICE_URL=http://localhost:5000
ML_SERVICE_ENABLED=false

###############################
# 통계/집계 설정
###############################
AGG_REFRESH_DAYS=14
AGG_REFRESH_INTERVAL_MINUTES=10

###############################
# 외부 인증 서비스 설정 (스프링부트 + 스프링 시큐리티)
###############################
AUTH_SERVICE_ENABLED=false
AUTH_SERVICE_URL=http://localhost:8080
AUTH_SERVICE_VALIDATE_ENDPOINT=/api/auth/validate

###############################
# 크론 스케줄 (데이터 수집/집계 주기)
###############################
CRON_DUR_RULES=0 3 * * *                     # 매일 03:00 DUR 규칙 갱신
CRON_HIRA_POI=0 4 * * 1                       # 매주 월요일 04:00 병원 메타 업데이트



###############################
# 실시간 데이터 수집 설정
###############################
REALTIME_COLLECT_ACTIVATE=false              # 실시간 데이터 수집 활성화 여부 (true/false)
REALTIME_COLLECT_INTERVAL=120                # 실시간 수집 간격 (초, 기본 2분)